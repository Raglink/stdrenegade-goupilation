<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/clips.css" />
    <script type="module" src="scripts/clips-events.js"></script>
  </head>

  <body>

    <!-- Remote clips -->
    <div id="remote-clips">
      <div class="info">
        Fetch clips from Twitch
      </div>
      <div class="ribbon">
        <input type="date" id="start_date" name="start_date" />
        <input type="date" id="end_date" name="end_date" />
        <button id="submit-dates-button" class="button submit-button" title="Fetch clips created between the indicated dates">
          Fetch
        </button>
        <button id="add-selected-button" class="button submit-button" title="Add clips to selection">
          Add
        </button>
        <button id="view-local" class="button switch-button" title="View and manage clip selections">
          &gt;
        </button>
      </div>
      <div id="remote-clips-table">
        <span>
          <p>Use this view to:</p>
          <ul>
            <li> <b>[Fetch]</b> clips created between two dates (maximum: 100 clips).
            <li> <b>[Add]</b> clips to the selection (either a new or an existing selection).
            <li> <b>[>]</b> Switch to the selections view to manage the latter.
          </ul>
        </span>
      </div>
    </div>

    <!-- Local clips -->
    <div id="local-clips">
      <div class="info">
        Manage clip selections
      </div>
      <div class="ribbon">
        <button id="view-remote" class="button switch-button" title="View available clips">
          &lt;
        </button>
        <button id="save-button" class="button save-button" title="Save a video">
          Save
        </button>
        <button id="load-button" class="button save-button" title="Load a video">
          Load
        </button>
        <button id="delete-button" class="button save-button" title="Delete a video">
          Delete
        </button>
        <button id="import-button" class="button share-button" title="Import saved videos">
          Import
        </button>
        <button id="export-button" class="button share-button" title="Export all saved videos">
          Export
        </button>
        <button id="view-video" class="button switch-button" title="View the selected video">
          &gt;
        </button>
      </div>
      <div id="local-clips-table">
        <span>
          <p>Use this view to:</p>
          <ul>
            <li> <b>[Save]</b> selections or <b>[Load]</b> and <b>[Delete]</b> previously saved selections.
            <li> <b>[Import]</b> or <b>[Export]</b> all the saved selections.
            <li> <b>[<]</b> Switch to the clips fetching view to add new clips to the selection.
          </ul>
          <p>
            The <b>[Save]</b> dialog box can also be used to <b>[Select]</b> the clips to be played in the <a href="./video.html" target="_blank">video</a>.<br>
            When a video is selected, a link is provided to share the latter with others.<br>
            The video can then be viewed by clicking on <b>[>]</b>
          </p>
        </span>
      </div>
    </div>

    <!-- Viewer -->
    <div id="viewer">
      <iframe id="viewer-container" width="533px" height="300px" allowfullscreen="false" frameborder="0" scrolling="no"></iframe>   
    </div>

    <!-- Load dialog -->
    <div id="load-dialog" class="modal-dialog">
      <div class="vertical">
        <div style="display: table">
          <div style="display: table-row">
            <div style="display: table-cell">Select save to load:&nbsp;</div>
            <div style="display: table-cell"><select id="load-name"></select></div>
          </div>
        </div>
        <div class="modal-dialog-buttons">
          <button id="load-confirm" class="button save-button" title = "Load clips from browser storage">Load</button>
          <button id="load-cancel" class="button">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Save dialog -->
    <div id="save-dialog" class="modal-dialog">
      <div class="vertical">
        <div style="display: table">
          <div style="display: table-row">
            <div style="display: table-cell">Save name:</div>
            <div style="display: table-cell"><input id="save-name" type="text"></input></div>
          </div>
          <div style="display: table-row">
            <div style="display: table-cell">Overlay URL:</div>
            <div style="display: table-cell"><input id="save-overlay" type="text" placeholder="(leave empty for default value)"></input></div>
          </div>
          <div style="display: table-row">
            <div style="display: table-cell">Intro video URL:</div>
            <div style="display: table-cell"><input id="save-intro" type="text" placeholder="(leave empty for default value)"></input></div>
          </div>
          <div style="display: table-row">
            <div style="display: table-cell">Outro video URL:</div>
            <div style="display: table-cell"><input id="save-outro" type="text" placeholder="(leave empty for default value)"></input></div>
          </div>
          <div style="display: table-row">
            <div style="display: table-cell">Transition video URL:</div>
            <div style="display: table-cell"><input id="save-transition" type="text" placeholder="(leave empty for default value)"></input></div>
          </div>
        </div>
        <div class="modal-dialog-buttons">
          <button id="save-confirm" class="button save-button" title="Save clips in browser storage">Save</button>
          <button id="save-select" class="button video-button" title="Select clips for video">Select</button>
          <button id="save-cancel" class="button">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Delete dialog -->
    <div id="delete-dialog" class="modal-dialog">
      <div class="vertical">
        <div style="display: table">
          <div style="display: table-row">
            <div style="display: table-cell">Select save to delete:&nbsp;</div>
            <div style="display: table-cell"><select id="delete-name"></select></div>
          </div>
        </div>
        <div class="modal-dialog-buttons">
          <button id="delete-confirm" class="button save-button" title = "Delete clips from browser storage">Delete</button>
          <button id="delete-close" class="button">Close</button>
        </div>
      </div>
    </div>

    <!-- Import/Export dialog -->
    <div id="import-export-dialog" class="modal-dialog">
      <div class="vertical">
        <textarea id="import-export-input"></textarea>
        <div class="modal-dialog-buttons">
          <button id="import-export-confirm" class="button share-button">OK</button>
          <button id="import-export-cancel" class="button">Cancel</button>
        </div>
      </div>
    </div>

    <div id="sign-in-wall" class="modal-dialog small">
      <div class="vertical">
        Sign in
        <input id="sign-in-email" placeholder="you@domain.com" />
        <input id="sign-in-password" placeholder="password" type="password" />
        <div class="modal-dialog-buttons">
          <button id="sign-in-confirm" class="button share-button">OK</button>
        </div>
      </div>
    </div>

    <div style="position: absolute; top: 50px; right: 50px; z-index: 2">
      <button id="signout-button" class="button submit-button" title="Sign current user out">
        Sign out
      </button>
    </div>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="/__/firebase/8.1.2/firebase-app.js"></script>
    <script src="/__/firebase/8.1.2/firebase-auth.js"></script>

    <!-- Initialize Firebase -->
    <script src="/__/firebase/init.js"></script>

  </body>
</html>